# PR Proposal: Documenter.jl Integration Strategy

## 1. Objective
Enable `AsciiDoc.jl` to function as a first-class plugin for `Documenter.jl` by bridging the `AsciiDoc` AST to `MarkdownAST` or implementing the Documenter Plugin interface.

## 2. Problem Statement
Currently, `AsciiDoc.jl` is a standalone tool that produces HTML strings. `Documenter.jl` (the standard documentation generator for Julia) requires a specific structure to build navigation, indices, and cross-references. It cannot simply "include" raw HTML strings generated by an external tool if we want full integration.

## 3. Proposed Solution

### 3.1. Dependency
Add `MarkdownAST.jl` as a dependency. This is the intermediate representation used by modern Julia documentation tools.

### 3.2. Conversion Layer
Implement a conversion pass that translates `AsciiDoc.Document` nodes into `MarkdownAST.Node`.

```julia
import MarkdownAST

function to_markdownast(doc::AsciiDoc.Document)
    root = MarkdownAST.Node(MarkdownAST.Document())
    for block in doc.blocks
        child = convert_node(block)
        push!(root.children, child)
    end
    return root
end

function convert_node(node::AsciiDoc.Header)
    # Convert AsciiDoc header to MarkdownAST Heading
    # Map level, ID, and children...
end
```

### 3.3. Documenter Plugin Interface
(Optional but recommended for full integration)
Create a `DocumenterAsciiDoc` extension that defines a subclass of `Documenter.Builder.DocumentPipeline` to allow `.adoc` files to be processed alongside `.md` files.

## 4. Success Criteria
- A new file `src/integration.jl` (or separate package extension) containing the conversion logic.
- Ability to take a parsed `AsciiDoc.Document` and produce a valid `MarkdownAST.Node` tree.
- Verify that standard `Documenter.jl` features (like search indexing) work on the converted content.

## 5. Risks & Unknowns
- `MarkdownAST` might not have perfect 1:1 mappings for all AsciiDoc features (e.g., complex tables, admonitions). We will need to decide on fallback representations (e.g., raw HTML nodes) for these cases.
